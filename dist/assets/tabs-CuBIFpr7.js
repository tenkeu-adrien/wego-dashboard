import{a as A,R as z}from"./index-CMT_1ivQ.js";import{ac as ze,ad as Be,ae as Ue,K as J,t as ee,y as X,o as K,l as re,L as Z,$ as ye,_ as Ie,d as Y,e as Ve,N as He,O as Qe,P as Ce,af as Ye,b as P,aa as G,a4 as L,ab as te,a0 as Je,V as Q}from"./use-text-value-BiuV3PYH.js";function O(t){return Array.isArray?Array.isArray(t):_e(t)==="[object Array]"}function Xe(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function Ze(t){return t==null?"":Xe(t)}function R(t){return typeof t=="string"}function Se(t){return typeof t=="number"}function qe(t){return t===!0||t===!1||et(t)&&_e(t)=="[object Boolean]"}function we(t){return typeof t=="object"}function et(t){return we(t)&&t!==null}function v(t){return t!=null}function ie(t){return!t.trim().length}function _e(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const tt="Incorrect 'index' type",st=t=>`Invalid value for key ${t}`,rt=t=>`Pattern length exceeds max of ${t}.`,nt=t=>`Missing ${t} property in key`,ut=t=>`Property 'weight' in key '${t}' must be a positive integer`,xe=Object.prototype.hasOwnProperty;class it{constructor(e){this._keys=[],this._keyMap={};let s=0;e.forEach(r=>{let n=ve(r);this._keys.push(n),this._keyMap[n.id]=n,s+=n.weight}),this._keys.forEach(r=>{r.weight/=s})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function ve(t){let e=null,s=null,r=null,n=1,u=null;if(R(t)||O(t))r=t,e=be(t),s=ce(t);else{if(!xe.call(t,"name"))throw new Error(nt("name"));const i=t.name;if(r=i,xe.call(t,"weight")&&(n=t.weight,n<=0))throw new Error(ut(i));e=be(i),s=ce(i),u=t.getFn}return{path:e,id:s,weight:n,src:r,getFn:u}}function be(t){return O(t)?t:t.split(".")}function ce(t){return O(t)?t.join("."):t}function ct(t,e){let s=[],r=!1;const n=(u,i,c)=>{if(v(u))if(!i[c])s.push(u);else{let a=i[c];const o=u[a];if(!v(o))return;if(c===i.length-1&&(R(o)||Se(o)||qe(o)))s.push(Ze(o));else if(O(o)){r=!0;for(let l=0,h=o.length;l<h;l+=1)n(o[l],i,c+1)}else i.length&&n(o,i,c+1)}};return n(t,R(e)?e.split("."):e,0),r?s:s[0]}const at={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},ot={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},lt={location:0,threshold:.6,distance:100},ht={useExtendedSearch:!1,getFn:ct,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var d={...ot,...at,...lt,...ht};const dt=/[^ ]+/g;function ft(t=1,e=3){const s=new Map,r=Math.pow(10,e);return{get(n){const u=n.match(dt).length;if(s.has(u))return s.get(u);const i=1/Math.pow(u,.5*t),c=parseFloat(Math.round(i*r)/r);return s.set(u,c),c},clear(){s.clear()}}}class fe{constructor({getFn:e=d.getFn,fieldNormWeight:s=d.fieldNormWeight}={}){this.norm=ft(s,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((s,r)=>{this._keysMap[s.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,R(this.docs[0])?this.docs.forEach((e,s)=>{this._addString(e,s)}):this.docs.forEach((e,s)=>{this._addObject(e,s)}),this.norm.clear())}add(e){const s=this.size();R(e)?this._addString(e,s):this._addObject(e,s)}removeAt(e){this.records.splice(e,1);for(let s=e,r=this.size();s<r;s+=1)this.records[s].i-=1}getValueForItemAtKeyId(e,s){return e[this._keysMap[s]]}size(){return this.records.length}_addString(e,s){if(!v(e)||ie(e))return;let r={v:e,i:s,n:this.norm.get(e)};this.records.push(r)}_addObject(e,s){let r={i:s,$:{}};this.keys.forEach((n,u)=>{let i=n.getFn?n.getFn(e):this.getFn(e,n.path);if(v(i)){if(O(i)){let c=[];const a=[{nestedArrIndex:-1,value:i}];for(;a.length;){const{nestedArrIndex:o,value:l}=a.pop();if(v(l))if(R(l)&&!ie(l)){let h={v:l,i:o,n:this.norm.get(l)};c.push(h)}else O(l)&&l.forEach((h,g)=>{a.push({nestedArrIndex:g,value:h})})}r.$[u]=c}else if(R(i)&&!ie(i)){let c={v:i,n:this.norm.get(i)};r.$[u]=c}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function $e(t,e,{getFn:s=d.getFn,fieldNormWeight:r=d.fieldNormWeight}={}){const n=new fe({getFn:s,fieldNormWeight:r});return n.setKeys(t.map(ve)),n.setSources(e),n.create(),n}function gt(t,{getFn:e=d.getFn,fieldNormWeight:s=d.fieldNormWeight}={}){const{keys:r,records:n}=t,u=new fe({getFn:e,fieldNormWeight:s});return u.setKeys(r),u.setIndexRecords(n),u}function se(t,{errors:e=0,currentLocation:s=0,expectedLocation:r=0,distance:n=d.distance,ignoreLocation:u=d.ignoreLocation}={}){const i=e/t.length;if(u)return i;const c=Math.abs(r-s);return n?i+c/n:c?1:i}function pt(t=[],e=d.minMatchCharLength){let s=[],r=-1,n=-1,u=0;for(let i=t.length;u<i;u+=1){let c=t[u];c&&r===-1?r=u:!c&&r!==-1&&(n=u-1,n-r+1>=e&&s.push([r,n]),r=-1)}return t[u-1]&&u-r>=e&&s.push([r,u-1]),s}const j=32;function At(t,e,s,{location:r=d.location,distance:n=d.distance,threshold:u=d.threshold,findAllMatches:i=d.findAllMatches,minMatchCharLength:c=d.minMatchCharLength,includeMatches:a=d.includeMatches,ignoreLocation:o=d.ignoreLocation}={}){if(e.length>j)throw new Error(rt(j));const l=e.length,h=t.length,g=Math.max(0,Math.min(r,h));let f=u,p=g;const b=c>1||a,F=b?Array(h):[];let M;for(;(M=t.indexOf(e,p))>-1;){let C=se(e,{currentLocation:M,expectedLocation:g,distance:n,ignoreLocation:o});if(f=Math.min(C,f),p=M+l,b){let $=0;for(;$<l;)F[M+$]=1,$+=1}}p=-1;let E=[],S=1,w=l+h;const _=1<<l-1;for(let C=0;C<l;C+=1){let $=0,B=w;for(;$<B;)se(e,{errors:C,currentLocation:g+B,expectedLocation:g,distance:n,ignoreLocation:o})<=f?$=B:w=B,B=Math.floor((w-$)/2+$);w=B;let x=Math.max(1,g-B+1),T=i?h:Math.min(g+B,h)+l,y=Array(T+2);y[T+1]=(1<<C)-1;for(let I=T;I>=x;I-=1){let W=I-1,H=s[t.charAt(W)];if(b&&(F[W]=+!!H),y[I]=(y[I+1]<<1|1)&H,C&&(y[I]|=(E[I+1]|E[I])<<1|1|E[I+1]),y[I]&_&&(S=se(e,{errors:C,currentLocation:W,expectedLocation:g,distance:n,ignoreLocation:o}),S<=f)){if(f=S,p=W,p<=g)break;x=Math.max(1,2*g-p)}}if(se(e,{errors:C+1,currentLocation:g,expectedLocation:g,distance:n,ignoreLocation:o})>f)break;E=y}const D={isMatch:p>=0,score:Math.max(.001,S)};if(b){const C=pt(F,c);C.length?a&&(D.indices=C):D.isMatch=!1}return D}function Et(t){let e={};for(let s=0,r=t.length;s<r;s+=1){const n=t.charAt(s);e[n]=(e[n]||0)|1<<r-s-1}return e}const ne=String.prototype.normalize?t=>t.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):t=>t;class Te{constructor(e,{location:s=d.location,threshold:r=d.threshold,distance:n=d.distance,includeMatches:u=d.includeMatches,findAllMatches:i=d.findAllMatches,minMatchCharLength:c=d.minMatchCharLength,isCaseSensitive:a=d.isCaseSensitive,ignoreDiacritics:o=d.ignoreDiacritics,ignoreLocation:l=d.ignoreLocation}={}){if(this.options={location:s,threshold:r,distance:n,includeMatches:u,findAllMatches:i,minMatchCharLength:c,isCaseSensitive:a,ignoreDiacritics:o,ignoreLocation:l},e=a?e:e.toLowerCase(),e=o?ne(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const h=(f,p)=>{this.chunks.push({pattern:f,alphabet:Et(f),startIndex:p})},g=this.pattern.length;if(g>j){let f=0;const p=g%j,b=g-p;for(;f<b;)h(this.pattern.substr(f,j),f),f+=j;if(p){const F=g-j;h(this.pattern.substr(F),F)}}else h(this.pattern,0)}searchIn(e){const{isCaseSensitive:s,ignoreDiacritics:r,includeMatches:n}=this.options;if(e=s?e:e.toLowerCase(),e=r?ne(e):e,this.pattern===e){let b={isMatch:!0,score:0};return n&&(b.indices=[[0,e.length-1]]),b}const{location:u,distance:i,threshold:c,findAllMatches:a,minMatchCharLength:o,ignoreLocation:l}=this.options;let h=[],g=0,f=!1;this.chunks.forEach(({pattern:b,alphabet:F,startIndex:M})=>{const{isMatch:E,score:S,indices:w}=At(e,b,F,{location:u+M,distance:i,threshold:c,findAllMatches:a,minMatchCharLength:o,includeMatches:n,ignoreLocation:l});E&&(f=!0),g+=S,E&&w&&(h=[...h,...w])});let p={isMatch:f,score:f?g/this.chunks.length:1};return f&&n&&(p.indices=h),p}}class N{constructor(e){this.pattern=e}static isMultiMatch(e){return Fe(e,this.multiRegex)}static isSingleMatch(e){return Fe(e,this.singleRegex)}search(){}}function Fe(t,e){const s=t.match(e);return s?s[1]:null}class mt extends N{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const s=e===this.pattern;return{isMatch:s,score:s?0:1,indices:[0,this.pattern.length-1]}}}class Ct extends N{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const r=e.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class xt extends N{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const s=e.startsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,this.pattern.length-1]}}}class bt extends N{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const s=!e.startsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,e.length-1]}}}class Ft extends N{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const s=e.endsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class Mt extends N{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const s=!e.endsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,e.length-1]}}}class Pe extends N{constructor(e,{location:s=d.location,threshold:r=d.threshold,distance:n=d.distance,includeMatches:u=d.includeMatches,findAllMatches:i=d.findAllMatches,minMatchCharLength:c=d.minMatchCharLength,isCaseSensitive:a=d.isCaseSensitive,ignoreDiacritics:o=d.ignoreDiacritics,ignoreLocation:l=d.ignoreLocation}={}){super(e),this._bitapSearch=new Te(e,{location:s,threshold:r,distance:n,includeMatches:u,findAllMatches:i,minMatchCharLength:c,isCaseSensitive:a,ignoreDiacritics:o,ignoreLocation:l})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class Le extends N{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let s=0,r;const n=[],u=this.pattern.length;for(;(r=e.indexOf(this.pattern,s))>-1;)s=r+u,n.push([r,s-1]);const i=!!n.length;return{isMatch:i,score:i?0:1,indices:n}}}const ae=[mt,Le,xt,bt,Mt,Ft,Ct,Pe],Me=ae.length,Dt=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Bt="|";function yt(t,e={}){return t.split(Bt).map(s=>{let r=s.trim().split(Dt).filter(u=>u&&!!u.trim()),n=[];for(let u=0,i=r.length;u<i;u+=1){const c=r[u];let a=!1,o=-1;for(;!a&&++o<Me;){const l=ae[o];let h=l.isMultiMatch(c);h&&(n.push(new l(h,e)),a=!0)}if(!a)for(o=-1;++o<Me;){const l=ae[o];let h=l.isSingleMatch(c);if(h){n.push(new l(h,e));break}}}return n})}const It=new Set([Pe.type,Le.type]);class St{constructor(e,{isCaseSensitive:s=d.isCaseSensitive,ignoreDiacritics:r=d.ignoreDiacritics,includeMatches:n=d.includeMatches,minMatchCharLength:u=d.minMatchCharLength,ignoreLocation:i=d.ignoreLocation,findAllMatches:c=d.findAllMatches,location:a=d.location,threshold:o=d.threshold,distance:l=d.distance}={}){this.query=null,this.options={isCaseSensitive:s,ignoreDiacritics:r,includeMatches:n,minMatchCharLength:u,findAllMatches:c,ignoreLocation:i,location:a,threshold:o,distance:l},e=s?e:e.toLowerCase(),e=r?ne(e):e,this.pattern=e,this.query=yt(this.pattern,this.options)}static condition(e,s){return s.useExtendedSearch}searchIn(e){const s=this.query;if(!s)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:n,ignoreDiacritics:u}=this.options;e=n?e:e.toLowerCase(),e=u?ne(e):e;let i=0,c=[],a=0;for(let o=0,l=s.length;o<l;o+=1){const h=s[o];c.length=0,i=0;for(let g=0,f=h.length;g<f;g+=1){const p=h[g],{isMatch:b,indices:F,score:M}=p.search(e);if(b){if(i+=1,a+=M,r){const E=p.constructor.type;It.has(E)?c=[...c,...F]:c.push(F)}}else{a=0,i=0,c.length=0;break}}if(i){let g={isMatch:!0,score:a/i};return r&&(g.indices=c),g}}return{isMatch:!1,score:1}}}const oe=[];function wt(...t){oe.push(...t)}function le(t,e){for(let s=0,r=oe.length;s<r;s+=1){let n=oe[s];if(n.condition(t,e))return new n(t,e)}return new Te(t,e)}const ue={AND:"$and",OR:"$or"},he={PATH:"$path",PATTERN:"$val"},de=t=>!!(t[ue.AND]||t[ue.OR]),_t=t=>!!t[he.PATH],vt=t=>!O(t)&&we(t)&&!de(t),De=t=>({[ue.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function Re(t,e,{auto:s=!0}={}){const r=n=>{let u=Object.keys(n);const i=_t(n);if(!i&&u.length>1&&!de(n))return r(De(n));if(vt(n)){const a=i?n[he.PATH]:u[0],o=i?n[he.PATTERN]:n[a];if(!R(o))throw new Error(st(a));const l={keyId:ce(a),pattern:o};return s&&(l.searcher=le(o,e)),l}let c={children:[],operator:u[0]};return u.forEach(a=>{const o=n[a];O(o)&&o.forEach(l=>{c.children.push(r(l))})}),c};return de(t)||(t=De(t)),r(t)}function $t(t,{ignoreFieldNorm:e=d.ignoreFieldNorm}){t.forEach(s=>{let r=1;s.matches.forEach(({key:n,norm:u,score:i})=>{const c=n?n.weight:null;r*=Math.pow(i===0&&c?Number.EPSILON:i,(c||1)*(e?1:u))}),s.score=r})}function Tt(t,e){const s=t.matches;e.matches=[],v(s)&&s.forEach(r=>{if(!v(r.indices)||!r.indices.length)return;const{indices:n,value:u}=r;let i={indices:n,value:u};r.key&&(i.key=r.key.src),r.idx>-1&&(i.refIndex=r.idx),e.matches.push(i)})}function Pt(t,e){e.score=t.score}function Lt(t,e,{includeMatches:s=d.includeMatches,includeScore:r=d.includeScore}={}){const n=[];return s&&n.push(Tt),r&&n.push(Pt),t.map(u=>{const{idx:i}=u,c={item:e[i],refIndex:i};return n.length&&n.forEach(a=>{a(u,c)}),c})}class V{constructor(e,s={},r){this.options={...d,...s},this.options.useExtendedSearch,this._keyStore=new it(this.options.keys),this.setCollection(e,r)}setCollection(e,s){if(this._docs=e,s&&!(s instanceof fe))throw new Error(tt);this._myIndex=s||$e(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){v(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const s=[];for(let r=0,n=this._docs.length;r<n;r+=1){const u=this._docs[r];e(u,r)&&(this.removeAt(r),r-=1,n-=1,s.push(u))}return s}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:s=-1}={}){const{includeMatches:r,includeScore:n,shouldSort:u,sortFn:i,ignoreFieldNorm:c}=this.options;let a=R(e)?R(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return $t(a,{ignoreFieldNorm:c}),u&&a.sort(i),Se(s)&&s>-1&&(a=a.slice(0,s)),Lt(a,this._docs,{includeMatches:r,includeScore:n})}_searchStringList(e){const s=le(e,this.options),{records:r}=this._myIndex,n=[];return r.forEach(({v:u,i,n:c})=>{if(!v(u))return;const{isMatch:a,score:o,indices:l}=s.searchIn(u);a&&n.push({item:u,idx:i,matches:[{score:o,value:u,norm:c,indices:l}]})}),n}_searchLogical(e){const s=Re(e,this.options),r=(c,a,o)=>{if(!c.children){const{keyId:h,searcher:g}=c,f=this._findMatches({key:this._keyStore.get(h),value:this._myIndex.getValueForItemAtKeyId(a,h),searcher:g});return f&&f.length?[{idx:o,item:a,matches:f}]:[]}const l=[];for(let h=0,g=c.children.length;h<g;h+=1){const f=c.children[h],p=r(f,a,o);if(p.length)l.push(...p);else if(c.operator===ue.AND)return[]}return l},n=this._myIndex.records,u={},i=[];return n.forEach(({$:c,i:a})=>{if(v(c)){let o=r(s,c,a);o.length&&(u[a]||(u[a]={idx:a,item:c,matches:[]},i.push(u[a])),o.forEach(({matches:l})=>{u[a].matches.push(...l)}))}}),i}_searchObjectList(e){const s=le(e,this.options),{keys:r,records:n}=this._myIndex,u=[];return n.forEach(({$:i,i:c})=>{if(!v(i))return;let a=[];r.forEach((o,l)=>{a.push(...this._findMatches({key:o,value:i[l],searcher:s}))}),a.length&&u.push({idx:c,item:i,matches:a})}),u}_findMatches({key:e,value:s,searcher:r}){if(!v(s))return[];let n=[];if(O(s))s.forEach(({v:u,i,n:c})=>{if(!v(u))return;const{isMatch:a,score:o,indices:l}=r.searchIn(u);a&&n.push({score:o,key:e,value:u,idx:i,norm:c,indices:l})});else{const{v:u,n:i}=s,{isMatch:c,score:a,indices:o}=r.searchIn(u);c&&n.push({score:a,key:e,value:u,norm:i,indices:o})}return n}}V.version="7.1.0";V.createIndex=$e;V.parseIndex=gt;V.config=d;V.parseQuery=Re;wt(St);function os(t,e){const[s,r]=A.useState(""),n=A.useDeferredValue(s),{limit:u,matchAllOnEmptyQuery:i,...c}=e,a=A.useMemo(()=>new V(t,c),[t,c]);return{result:A.useMemo(()=>!n&&i?a.getIndex().docs.slice(0,u).map((h,g)=>({item:h,refIndex:g})):a.search(n.toString().trim(),{limit:u}),[a,u,i,n]),query:n,loading:n!==s,setQuery:r}}function Rt({title:t,titleId:e,...s},r){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},s),t?A.createElement("title",{id:e},t):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const ls=A.forwardRef(Rt);function kt({onFocus:t}){let[e,s]=A.useState(!0),r=ze();return e?z.createElement(Be,{as:"button",type:"button",features:Ue.Focusable,onFocus:n=>{n.preventDefault();let u,i=50;function c(){if(i--<=0){u&&cancelAnimationFrame(u);return}if(t()){if(cancelAnimationFrame(u),!r.current)return;s(!1);return}u=requestAnimationFrame(c)}u=requestAnimationFrame(c)}}):null}const ke=A.createContext(null);function Ot(){return{groups:new Map,get(t,e){var s;let r=this.groups.get(t);r||(r=new Map,this.groups.set(t,r));let n=(s=r.get(e))!=null?s:0;r.set(e,n+1);let u=Array.from(r.keys()).indexOf(e);function i(){let c=r.get(e);c>1?r.set(e,c-1):r.delete(e)}return[u,i]}}}function Nt({children:t}){let e=A.useRef(Ot());return A.createElement(ke.Provider,{value:e},t)}function Oe(t){let e=A.useContext(ke);if(!e)throw new Error("You must wrap your component in a <StableCollection>");let s=A.useId(),[r,n]=e.current.get(t,s);return A.useEffect(()=>n,[]),r}var jt=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(jt||{}),Kt=(t=>(t[t.Less=-1]="Less",t[t.Equal=0]="Equal",t[t.Greater=1]="Greater",t))(Kt||{}),Wt=(t=>(t[t.SetSelectedIndex=0]="SetSelectedIndex",t[t.RegisterTab=1]="RegisterTab",t[t.UnregisterTab=2]="UnregisterTab",t[t.RegisterPanel=3]="RegisterPanel",t[t.UnregisterPanel=4]="UnregisterPanel",t))(Wt||{});let Gt={0(t,e){var s;let r=Q(t.tabs,l=>l.current),n=Q(t.panels,l=>l.current),u=r.filter(l=>{var h;return!((h=l.current)!=null&&h.hasAttribute("disabled"))}),i={...t,tabs:r,panels:n};if(e.index<0||e.index>r.length-1){let l=Y(Math.sign(e.index-t.selectedIndex),{[-1]:()=>1,0:()=>Y(Math.sign(e.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(u.length===0)return i;let h=Y(l,{0:()=>r.indexOf(u[0]),1:()=>r.indexOf(u[u.length-1])});return{...i,selectedIndex:h===-1?t.selectedIndex:h}}let c=r.slice(0,e.index),a=[...r.slice(e.index),...c].find(l=>u.includes(l));if(!a)return i;let o=(s=r.indexOf(a))!=null?s:t.selectedIndex;return o===-1&&(o=t.selectedIndex),{...i,selectedIndex:o}},1(t,e){if(t.tabs.includes(e.tab))return t;let s=t.tabs[t.selectedIndex],r=Q([...t.tabs,e.tab],u=>u.current),n=t.selectedIndex;return t.info.current.isControlled||(n=r.indexOf(s),n===-1&&(n=t.selectedIndex)),{...t,tabs:r,selectedIndex:n}},2(t,e){return{...t,tabs:t.tabs.filter(s=>s!==e.tab)}},3(t,e){return t.panels.includes(e.panel)?t:{...t,panels:Q([...t.panels,e.panel],s=>s.current)}},4(t,e){return{...t,panels:t.panels.filter(s=>s!==e.panel)}}},ge=A.createContext(null);ge.displayName="TabsDataContext";function U(t){let e=A.useContext(ge);if(e===null){let s=new Error(`<${t} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,U),s}return e}let pe=A.createContext(null);pe.displayName="TabsActionsContext";function Ae(t){let e=A.useContext(pe);if(e===null){let s=new Error(`<${t} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,Ae),s}return e}function zt(t,e){return Y(e.type,Gt,t,e)}let Ut="div";function Vt(t,e){let{defaultIndex:s=0,vertical:r=!1,manual:n=!1,onChange:u,selectedIndex:i=null,...c}=t;const a=r?"vertical":"horizontal",o=n?"manual":"auto";let l=i!==null,h=ee({isControlled:l}),g=X(e),[f,p]=A.useReducer(zt,{info:h,selectedIndex:i??s,tabs:[],panels:[]}),b=A.useMemo(()=>({selectedIndex:f.selectedIndex}),[f.selectedIndex]),F=ee(u||(()=>{})),M=ee(f.tabs),E=A.useMemo(()=>({orientation:a,activation:o,...f}),[a,o,f]),S=K(x=>(p({type:1,tab:x}),()=>p({type:2,tab:x}))),w=K(x=>(p({type:3,panel:x}),()=>p({type:4,panel:x}))),_=K(x=>{D.current!==x&&F.current(x),l||p({type:0,index:x})}),D=ee(l?t.selectedIndex:f.selectedIndex),C=A.useMemo(()=>({registerTab:S,registerPanel:w,change:_}),[]);re(()=>{p({type:0,index:i??s})},[i]),re(()=>{if(D.current===void 0||f.tabs.length<=0)return;let x=Q(f.tabs,T=>T.current);x.some((T,y)=>f.tabs[y]!==T)&&_(x.indexOf(f.tabs[D.current]))});let $={ref:g},B=Z();return z.createElement(Nt,null,z.createElement(pe.Provider,{value:C},z.createElement(ge.Provider,{value:E},E.tabs.length<=0&&z.createElement(kt,{onFocus:()=>{var x,T;for(let y of M.current)if(((x=y.current)==null?void 0:x.tabIndex)===0)return(T=y.current)==null||T.focus(),!0;return!1}}),B({ourProps:$,theirProps:c,slot:b,defaultTag:Ut,name:"Tabs"}))))}let Ht="div";function Qt(t,e){let{orientation:s,selectedIndex:r}=U("Tab.List"),n=X(e),u=A.useMemo(()=>({selectedIndex:r}),[r]),i=t,c={ref:n,role:"tablist","aria-orientation":s};return Z()({ourProps:c,theirProps:i,slot:u,defaultTag:Ht,name:"Tabs.List"})}let Yt="button";function Jt(t,e){var s,r;let n=A.useId(),{id:u=`headlessui-tabs-tab-${n}`,disabled:i=!1,autoFocus:c=!1,...a}=t,{orientation:o,activation:l,selectedIndex:h,tabs:g,panels:f}=U("Tab"),p=Ae("Tab"),b=U("Tab"),[F,M]=A.useState(null),E=A.useRef(null),S=X(E,e,M);re(()=>p.registerTab(E),[p,E]);let w=Oe("tabs"),_=g.indexOf(E);_===-1&&(_=w);let D=_===h,C=K(m=>{var k;let q=m();if(q===te.Success&&l==="auto"){let We=(k=Je(E))==null?void 0:k.activeElement,me=b.tabs.findIndex(Ge=>Ge.current===We);me!==-1&&p.change(me)}return q}),$=K(m=>{let k=g.map(q=>q.current).filter(Boolean);if(m.key===P.Space||m.key===P.Enter){m.preventDefault(),m.stopPropagation(),p.change(_);return}switch(m.key){case P.Home:case P.PageUp:return m.preventDefault(),m.stopPropagation(),C(()=>G(k,L.First));case P.End:case P.PageDown:return m.preventDefault(),m.stopPropagation(),C(()=>G(k,L.Last))}if(C(()=>Y(o,{vertical(){return m.key===P.ArrowUp?G(k,L.Previous|L.WrapAround):m.key===P.ArrowDown?G(k,L.Next|L.WrapAround):te.Error},horizontal(){return m.key===P.ArrowLeft?G(k,L.Previous|L.WrapAround):m.key===P.ArrowRight?G(k,L.Next|L.WrapAround):te.Error}}))===te.Success)return m.preventDefault()}),B=A.useRef(!1),x=K(()=>{var m;B.current||(B.current=!0,(m=E.current)==null||m.focus({preventScroll:!0}),p.change(_),Ye(()=>{B.current=!1}))}),T=K(m=>{m.preventDefault()}),{isFocusVisible:y,focusProps:Ee}=ye({autoFocus:c}),{isHovered:I,hoverProps:W}=Ve({isDisabled:i}),{pressed:H,pressProps:Ne}=He({disabled:i}),je=A.useMemo(()=>({selected:D,hover:I,active:H,focus:y,autofocus:c,disabled:i}),[D,I,y,H,c,i]),Ke=Ie({ref:S,onKeyDown:$,onMouseDown:T,onClick:x,id:u,role:"tab",type:Qe(t,F),"aria-controls":(r=(s=f[_])==null?void 0:s.current)==null?void 0:r.id,"aria-selected":D,tabIndex:D?0:-1,disabled:i||void 0,autoFocus:c},Ee,W,Ne);return Z()({ourProps:Ke,theirProps:a,slot:je,defaultTag:Yt,name:"Tabs.Tab"})}let Xt="div";function Zt(t,e){let{selectedIndex:s}=U("Tab.Panels"),r=X(e),n=A.useMemo(()=>({selectedIndex:s}),[s]),u=t,i={ref:r};return Z()({ourProps:i,theirProps:u,slot:n,defaultTag:Xt,name:"Tabs.Panels"})}let qt="div",es=Ce.RenderStrategy|Ce.Static;function ts(t,e){var s,r,n,u;let i=A.useId(),{id:c=`headlessui-tabs-panel-${i}`,tabIndex:a=0,...o}=t,{selectedIndex:l,tabs:h,panels:g}=U("Tab.Panel"),f=Ae("Tab.Panel"),p=A.useRef(null),b=X(p,e);re(()=>f.registerPanel(p),[f,p]);let F=Oe("panels"),M=g.indexOf(p);M===-1&&(M=F);let E=M===l,{isFocusVisible:S,focusProps:w}=ye(),_=A.useMemo(()=>({selected:E,focus:S}),[E,S]),D=Ie({ref:b,id:c,role:"tabpanel","aria-labelledby":(r=(s=h[M])==null?void 0:s.current)==null?void 0:r.id,tabIndex:E?a:-1},w),C=Z();return!E&&((n=o.unmount)==null||n)&&!((u=o.static)!=null&&u)?z.createElement(Be,{"aria-hidden":"true",...D}):C({ourProps:D,theirProps:o,slot:_,defaultTag:qt,features:es,visible:E,name:"Tabs.Panel"})}let ss=J(Jt),rs=J(Vt),ns=J(Qt),us=J(Zt),is=J(ts),hs=Object.assign(ss,{Group:rs,List:ns,Panels:us,Panel:is});export{rs as B,ls as F,is as K,hs as T,ns as W,us as j,os as u};
