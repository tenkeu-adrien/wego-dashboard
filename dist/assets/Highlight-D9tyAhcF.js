import{a,R as g,j as re,l as we,P as D}from"./index-CMT_1ivQ.js";import{K as ee,y as X,o as y,a as Ie,n as pe,$ as Te,e as Ce,N as Be,O as Re,_ as se,L as ne,ad as ie,ae as de,x as Fe,R as Le,f as Oe,l as _e,g as Pe,h as Se,i as z,m as je,j as De,aa as U,a4 as N,q as ke,r as Ne,ag as We,s as Ae,ah as Ge,ai as fe,t as be,aj as He,E as Ke,M as Ue,G as qe,d as q,P as ae,a0 as Je,J as ye,b as K,a7 as Qe,a8 as Ye,ab as ce}from"./use-text-value-BiuV3PYH.js";import{u as Ee,b as Ze,R as Ve,E as Xe,O as Me,C as ze,c as W}from"./dialog-BcfSTsWF.js";import{G as A}from"./iconBase-DsJj7bP2.js";const et=e=>e.replace(/[|\\{}()[\]^$+*?.-]/g,r=>`\\${r}`);function tt(e){const r=e.filter(o=>o.trim().length!==0).map(o=>et(o.trim()));return r.length?new RegExp(`(${r.join("|")})`,"ig"):null}function nt({text:e,query:r}){const o=tt(Array.isArray(r)?r:[r]);return o?e.split(o).filter(Boolean).map(c=>({text:c,match:o.test(c)})):[{text:e,match:!1}]}function rt(e){const{text:r,query:o}=e;return a.useMemo(()=>nt({text:r,query:o}),[r,o])}function at({title:e,titleId:r,...o},h){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:h,"aria-labelledby":r},o),e?a.createElement("title",{id:r},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Rt=a.forwardRef(at);var ot=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ot||{}),lt=(e=>(e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(lt||{});let ut={0:e=>({...e,popoverState:q(e.popoverState,{0:1,1:0}),__demoMode:!1}),1(e){return e.popoverState===1?e:{...e,popoverState:1,__demoMode:!1}},2(e,r){return e.button===r.button?e:{...e,button:r.button}},3(e,r){return e.buttonId===r.buttonId?e:{...e,buttonId:r.buttonId}},4(e,r){return e.panel===r.panel?e:{...e,panel:r.panel}},5(e,r){return e.panelId===r.panelId?e:{...e,panelId:r.panelId}}},he=a.createContext(null);he.displayName="PopoverContext";function oe(e){let r=a.useContext(he);if(r===null){let o=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,oe),o}return r}let le=a.createContext(null);le.displayName="PopoverAPIContext";function ve(e){let r=a.useContext(le);if(r===null){let o=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,ve),o}return r}let me=a.createContext(null);me.displayName="PopoverGroupContext";function $e(){return a.useContext(me)}let ue=a.createContext(null);ue.displayName="PopoverPanelContext";function st(){return a.useContext(ue)}function it(e,r){return q(r.type,ut,e,r)}let dt="div";function ct(e,r){var o;let{__demoMode:h=!1,...c}=e,v=a.useRef(null),k=X(r,Ge(s=>{v.current=s})),l=a.useRef([]),m=a.useReducer(it,{__demoMode:h,popoverState:h?0:1,buttons:l,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:a.createRef(),afterPanelSentinel:a.createRef(),afterButtonSentinel:a.createRef()}),[{popoverState:$,button:n,buttonId:b,panel:f,panelId:E,beforePanelSentinel:M,afterPanelSentinel:P,afterButtonSentinel:u},p]=m,S=pe((o=v.current)!=null?o:n),B=a.useMemo(()=>{if(!n||!f)return!1;for(let x of document.querySelectorAll("body > *"))if(Number(x==null?void 0:x.contains(n))^Number(x==null?void 0:x.contains(f)))return!0;let s=fe(),t=s.indexOf(n),d=(t+s.length-1)%s.length,i=(t+1)%s.length,I=s[d],C=s[i];return!f.contains(I)&&!f.contains(C)},[n,f]),R=be(b),F=be(E),J=a.useMemo(()=>({buttonId:R,panelId:F,close:()=>p({type:1})}),[R,F,p]),L=$e(),w=L==null?void 0:L.registerPopover,G=y(()=>{var s;return(s=L==null?void 0:L.isFocusWithinPopoverGroup())!=null?s:(S==null?void 0:S.activeElement)&&((n==null?void 0:n.contains(S.activeElement))||(f==null?void 0:f.contains(S.activeElement)))});a.useEffect(()=>w==null?void 0:w(J),[w,J]);let[T,Q]=He(),H=Ze(n),O=Ve({mainTreeNode:H,portals:T,defaultContainers:[n,f]});Xe(S==null?void 0:S.defaultView,"focus",s=>{var t,d,i,I,C,x;s.target!==window&&s.target instanceof HTMLElement&&$===0&&(G()||n&&f&&(O.contains(s.target)||(d=(t=M.current)==null?void 0:t.contains)!=null&&d.call(t,s.target)||(I=(i=P.current)==null?void 0:i.contains)!=null&&I.call(i,s.target)||(x=(C=u.current)==null?void 0:C.contains)!=null&&x.call(C,s.target)||p({type:1})))},!0),Ke($===0,O.resolveContainers,(s,t)=>{p({type:1}),Qe(t,Ye.Loose)||(s.preventDefault(),n==null||n.focus())});let _=y(s=>{p({type:1});let t=s?s instanceof HTMLElement?s:"current"in s&&s.current instanceof HTMLElement?s.current:n:n;t==null||t.focus()}),Y=a.useMemo(()=>({close:_,isPortalled:B}),[_,B]),Z=a.useMemo(()=>({open:$===0,close:_}),[$,_]),V={ref:k},te=ne();return g.createElement(Me,{node:H},g.createElement(Ue,null,g.createElement(ue.Provider,{value:null},g.createElement(he.Provider,{value:m},g.createElement(le.Provider,{value:Y},g.createElement(ze,{value:_},g.createElement(qe,{value:q($,{0:z.Open,1:z.Closed})},g.createElement(Q,null,te({ourProps:V,theirProps:c,slot:Z,defaultTag:dt,name:"Popover"})))))))))}let pt="button";function ft(e,r){let o=a.useId(),{id:h=`headlessui-popover-button-${o}`,disabled:c=!1,autoFocus:v=!1,...k}=e,[l,m]=oe("Popover.Button"),{isPortalled:$}=ve("Popover.Button"),n=a.useRef(null),b=`headlessui-focus-sentinel-${a.useId()}`,f=$e(),E=f==null?void 0:f.closeOthers,M=st()!==null;a.useEffect(()=>{if(!M)return m({type:3,buttonId:h}),()=>{m({type:3,buttonId:null})}},[M,h,m]);let[P]=a.useState(()=>Symbol()),u=X(n,r,Ie(),y(t=>{if(!M){if(t)l.buttons.current.push(P);else{let d=l.buttons.current.indexOf(P);d!==-1&&l.buttons.current.splice(d,1)}l.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),t&&m({type:2,button:t})}})),p=X(n,r),S=pe(n),B=y(t=>{var d,i,I;if(M){if(l.popoverState===1)return;switch(t.key){case K.Space:case K.Enter:t.preventDefault(),(i=(d=t.target).click)==null||i.call(d),m({type:1}),(I=l.button)==null||I.focus();break}}else switch(t.key){case K.Space:case K.Enter:t.preventDefault(),t.stopPropagation(),l.popoverState===1&&(E==null||E(l.buttonId)),m({type:0});break;case K.Escape:if(l.popoverState!==0)return E==null?void 0:E(l.buttonId);if(!n.current||S!=null&&S.activeElement&&!n.current.contains(S.activeElement))return;t.preventDefault(),t.stopPropagation(),m({type:1});break}}),R=y(t=>{M||t.key===K.Space&&t.preventDefault()}),F=y(t=>{var d,i;ye(t.currentTarget)||c||(M?(m({type:1}),(d=l.button)==null||d.focus()):(t.preventDefault(),t.stopPropagation(),l.popoverState===1&&(E==null||E(l.buttonId)),m({type:0}),(i=l.button)==null||i.focus()))}),J=y(t=>{t.preventDefault(),t.stopPropagation()}),{isFocusVisible:L,focusProps:w}=Te({autoFocus:v}),{isHovered:G,hoverProps:T}=Ce({isDisabled:c}),{pressed:Q,pressProps:H}=Be({disabled:c}),O=l.popoverState===0,_=a.useMemo(()=>({open:O,active:Q||O,disabled:c,hover:G,focus:L,autofocus:v}),[O,G,L,Q,c,v]),Y=Re(e,l.button),Z=M?se({ref:p,type:Y,onKeyDown:B,onClick:F,disabled:c||void 0,autoFocus:v},w,T,H):se({ref:u,id:l.buttonId,type:Y,"aria-expanded":l.popoverState===0,"aria-controls":l.panel?l.panelId:void 0,disabled:c||void 0,autoFocus:v,onKeyDown:B,onKeyUp:R,onClick:F,onMouseDown:J},w,T,H),V=Ee(),te=y(()=>{let t=l.panel;if(!t)return;function d(){q(V.current,{[W.Forwards]:()=>U(t,N.First),[W.Backwards]:()=>U(t,N.Last)})===ce.Error&&U(fe().filter(i=>i.dataset.headlessuiFocusGuard!=="true"),q(V.current,{[W.Forwards]:N.Next,[W.Backwards]:N.Previous}),{relativeTo:l.button})}d()}),s=ne();return g.createElement(g.Fragment,null,s({ourProps:Z,theirProps:k,slot:_,defaultTag:pt,name:"Popover.Button"}),O&&!M&&$&&g.createElement(ie,{id:b,ref:l.afterButtonSentinel,features:de.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:te}))}let ht="div",vt=ae.RenderStrategy|ae.Static;function xe(e,r){let o=a.useId(),{id:h=`headlessui-popover-backdrop-${o}`,transition:c=!1,...v}=e,[{popoverState:k},l]=oe("Popover.Backdrop"),[m,$]=a.useState(null),n=X(r,$),b=Pe(),[f,E]=Se(c,m,b!==null?(b&z.Open)===z.Open:k===0),M=y(p=>{if(ye(p.currentTarget))return p.preventDefault();l({type:1})}),P=a.useMemo(()=>({open:k===0}),[k]),u={ref:n,id:h,"aria-hidden":!0,onClick:M,...ke(E)};return ne()({ourProps:u,theirProps:v,slot:P,defaultTag:ht,features:vt,visible:f,name:"Popover.Backdrop"})}let mt="div",gt=ae.RenderStrategy|ae.Static;function bt(e,r){let o=a.useId(),{id:h=`headlessui-popover-panel-${o}`,focus:c=!1,anchor:v,portal:k=!1,modal:l=!1,transition:m=!1,...$}=e,[n,b]=oe("Popover.Panel"),{close:f,isPortalled:E}=ve("Popover.Panel"),M=`headlessui-focus-sentinel-before-${o}`,P=`headlessui-focus-sentinel-after-${o}`,u=a.useRef(null),p=Fe(v),[S,B]=Le(p),R=Oe();p&&(k=!0);let[F,J]=a.useState(null),L=X(u,r,p?S:null,y(t=>b({type:4,panel:t})),J),w=pe(u);_e(()=>(b({type:5,panelId:h}),()=>{b({type:5,panelId:null})}),[h,b]);let G=Pe(),[T,Q]=Se(m,F,G!==null?(G&z.Open)===z.Open:n.popoverState===0);je(T,n.button,()=>{b({type:1})});let H=n.__demoMode?!1:l&&T;De(H,w);let O=y(t=>{var d;switch(t.key){case K.Escape:if(n.popoverState!==0||!u.current||w!=null&&w.activeElement&&!u.current.contains(w.activeElement))return;t.preventDefault(),t.stopPropagation(),b({type:1}),(d=n.button)==null||d.focus();break}});a.useEffect(()=>{var t;e.static||n.popoverState===1&&((t=e.unmount)==null||t)&&b({type:4,panel:null})},[n.popoverState,e.unmount,e.static,b]),a.useEffect(()=>{if(n.__demoMode||!c||n.popoverState!==0||!u.current)return;let t=w==null?void 0:w.activeElement;u.current.contains(t)||U(u.current,N.First)},[n.__demoMode,c,u.current,n.popoverState]);let _=a.useMemo(()=>({open:n.popoverState===0,close:f}),[n.popoverState,f]),Y=se(p?R():{},{ref:L,id:h,onKeyDown:O,onBlur:c&&n.popoverState===0?t=>{var d,i,I,C,x;let j=t.relatedTarget;j&&u.current&&((d=u.current)!=null&&d.contains(j)||(b({type:1}),((I=(i=n.beforePanelSentinel.current)==null?void 0:i.contains)!=null&&I.call(i,j)||(x=(C=n.afterPanelSentinel.current)==null?void 0:C.contains)!=null&&x.call(C,j))&&j.focus({preventScroll:!0})))}:void 0,tabIndex:-1,style:{...$.style,...B,"--button-width":Ne(n.button,!0).width},...ke(Q)}),Z=Ee(),V=y(()=>{let t=u.current;if(!t)return;function d(){q(Z.current,{[W.Forwards]:()=>{var i;U(t,N.First)===ce.Error&&((i=n.afterPanelSentinel.current)==null||i.focus())},[W.Backwards]:()=>{var i;(i=n.button)==null||i.focus({preventScroll:!0})}})}d()}),te=y(()=>{let t=u.current;if(!t)return;function d(){q(Z.current,{[W.Forwards]:()=>{if(!n.button)return;let i=fe(),I=i.indexOf(n.button),C=i.slice(0,I+1),x=[...i.slice(I+1),...C];for(let j of x.slice())if(j.dataset.headlessuiFocusGuard==="true"||F!=null&&F.contains(j)){let ge=x.indexOf(j);ge!==-1&&x.splice(ge,1)}U(x,N.First,{sorted:!1})},[W.Backwards]:()=>{var i;U(t,N.Previous)===ce.Error&&((i=n.button)==null||i.focus())}})}d()}),s=ne();return g.createElement(We,null,g.createElement(ue.Provider,{value:h},g.createElement(le.Provider,{value:{close:f,isPortalled:E}},g.createElement(Ae,{enabled:k?e.static||T:!1},T&&E&&g.createElement(ie,{id:M,ref:n.beforePanelSentinel,features:de.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:V}),s({ourProps:Y,theirProps:$,slot:_,defaultTag:mt,features:gt,visible:T,name:"Popover.Panel"}),T&&E&&g.createElement(ie,{id:P,ref:n.afterPanelSentinel,features:de.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:te})))))}let Pt="div";function St(e,r){let o=a.useRef(null),h=X(o,r),[c,v]=a.useState([]),k=y(P=>{v(u=>{let p=u.indexOf(P);if(p!==-1){let S=u.slice();return S.splice(p,1),S}return u})}),l=y(P=>(v(u=>[...u,P]),()=>k(P))),m=y(()=>{var P;let u=Je(o);if(!u)return!1;let p=u.activeElement;return(P=o.current)!=null&&P.contains(p)?!0:c.some(S=>{var B,R;return((B=u.getElementById(S.buttonId.current))==null?void 0:B.contains(p))||((R=u.getElementById(S.panelId.current))==null?void 0:R.contains(p))})}),$=y(P=>{for(let u of c)u.buttonId.current!==P&&u.close()}),n=a.useMemo(()=>({registerPopover:l,unregisterPopover:k,isFocusWithinPopoverGroup:m,closeOthers:$}),[l,k,m,$]),b=a.useMemo(()=>({}),[]),f=e,E={ref:h},M=ne();return g.createElement(Me,null,g.createElement(me.Provider,{value:n},M({ourProps:E,theirProps:f,slot:b,defaultTag:Pt,name:"Popover.Group"})))}let kt=ee(ct),yt=ee(ft),Et=ee(xe),Mt=ee(xe),$t=ee(bt),xt=ee(St),Ft=Object.assign(kt,{Button:yt,Backdrop:Mt,Overlay:Et,Panel:$t,Group:xt});function Lt(e){return A({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16.7 8a3 3 0 0 0 -2.7 -2h-4a3 3 0 0 0 0 6h4a3 3 0 0 1 0 6h-4a3 3 0 0 1 -2.7 -2"},child:[]},{tag:"path",attr:{d:"M12 3v3m0 12v3"},child:[]}]})(e)}function Ot(e){return A({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M19 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M5 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M19 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]}]})(e)}function _t(e){return A({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 6l11 0"},child:[]},{tag:"path",attr:{d:"M9 12l11 0"},child:[]},{tag:"path",attr:{d:"M9 18l11 0"},child:[]},{tag:"path",attr:{d:"M5 6l0 .01"},child:[]},{tag:"path",attr:{d:"M5 12l0 .01"},child:[]},{tag:"path",attr:{d:"M5 18l0 .01"},child:[]}]})(e)}function jt(e){return A({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 21a9 9 0 0 1 0 -18c4.97 0 9 3.582 9 8c0 1.06 -.474 2.078 -1.318 2.828c-.844 .75 -1.989 1.172 -3.182 1.172h-2.5a2 2 0 0 0 -1 3.75a1.3 1.3 0 0 1 -1 2.25"},child:[]},{tag:"path",attr:{d:"M8.5 10.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M12.5 7.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M16.5 10.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]}]})(e)}function Dt(e){return A({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 3l18 18"},child:[]},{tag:"path",attr:{d:"M15 4.5l-3.249 3.249m-2.57 1.433l-2.181 .818l-1.5 1.5l7 7l1.5 -1.5l.82 -2.186m1.43 -2.563l3.25 -3.251"},child:[]},{tag:"path",attr:{d:"M9 15l-4.5 4.5"},child:[]},{tag:"path",attr:{d:"M14.5 4l5.5 5.5"},child:[]}]})(e)}function Nt(e){return A({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 4v6l-2 4v2h10v-2l-2 -4v-6"},child:[]},{tag:"path",attr:{d:"M12 16l0 5"},child:[]},{tag:"path",attr:{d:"M8 4l8 0"},child:[]}]})(e)}function Wt(e){return A({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"},child:[]},{tag:"path",attr:{d:"M7 9l5 -5l5 5"},child:[]},{tag:"path",attr:{d:"M12 4l0 12"},child:[]}]})(e)}function At(e){return A({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0"},child:[]},{tag:"path",attr:{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"},child:[]}]})(e)}function wt({children:e,query:r,unstyled:o=!1,highlightClass:h}){if(!(typeof e=="string"||typeof e=="number"))throw new Error("The children prop of Highlight must be a string or number.");const c=rt({query:r,text:e.toString()});return re.jsx(re.Fragment,{children:c.map((v,k)=>v.match?re.jsx("mark",{className:we("whitespace-nowrap",!o&&"inline-block rounded-sm bg-lime-200 dark:bg-lime-300",h),children:v.text},k):re.jsx(a.Fragment,{children:v.text},k))})}wt.propTypes={children:D.oneOfType([D.string,D.number]).isRequired,query:D.oneOfType([D.string,D.number,D.array]),unstyled:D.bool,highlightClass:D.string};export{Rt as F,wt as H,$t as R,yt as S,Wt as T,_t as a,Ot as b,Lt as c,Dt as d,Nt as e,At as f,jt as g,Ft as l};
